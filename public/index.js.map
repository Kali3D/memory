{"version":3,"sources":["app/js/Card.js","app/js/Clocks.js","app/js/Counter.js","app/js/Manager.js","app/js/Scores.js","app/js/Spinner.js","app/js/utils.js"],"names":["Card","index","fruit","element","append","setEvents","on","event","preventDefault","manager","spin","Clocks","textures","THREE","TextureLoader","load","container","document","getElementById","console","dir","renderer","WebGLRenderer","canvas","antialias","alpha","setSize","offsetWidth","offsetHeight","setPixelRatio","window","devicePixelRatio","scene","Scene","root","Object3D","add","camera","PerspectiveCamera","position","set","lookAt","Vector3","light","DirectionalLight","clocks","geometry","PlaneBufferGeometry","i","clock","Mesh","randomizeClock","onresize","resize","aspect","speedRef","rotationRef","texture","Math","floor","random","length","mat","MeshBasicMaterial","transparent","depthWrite","map","side","DoubleSide","material","scale","speed","rotZ","children","child","rotation","z","y","render","Counter","duration","remain","started","ended","lasted","Clock","parseInt","moment","utc","display","html","format","percent","getElapsedTime","attr","Manager","init","update","spinner","Spinner","counter","scores","Scores","fruitClicked","nbClicks","nbPairs","gameStarted","gameEnded","gameLasted","tools","hideDecal","setTimeout","css","removeClass","addClass","val","setCards","fruits","randomizeArray","slice","ranks","elements","fruitIndex","showDecal","showBackdrop","key","startGame","start","target","hasClass","pair","log","endGame","won","date","Date","now","requestAnimationFrame","module","exports","axios","get","then","result","resp","data","tab","Object","keys","score","push","sort","el1","el2","obj","post","results","concat","stored","toggle","eval","className","targets","from","to","id","array","checkDuration","focus","press","release","selector","delay","each","replace","RegExp","func","apply"],"mappings":"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","file":"public/index.js","sourcesContent":["import $ from \"jquery\";\n\nclass Card {\n\tconstructor(index, fruit) {\n\t\tthis.element = $(`<div class='card hideCard ${fruit}' id='card${index}'/></div>`);\n\t\tthis.element.append(\"<img src='./images/cover.jpg' />\");\n\t\tthis.setEvents();\n\t}\n\n\tsetEvents() {\n\t\tthis.element.on(\"mousemove\", function(event) {event.preventDefault()});\n\t\tthis.element.on(\"click\", function() {manager.spin(this)});\n\t}\n};\n\nexport default Card;","import * as THREE from \"three\";\n\n\nclass Clocks {\n\tconstructor() {\n\t\t//texture\n\t\tthis.textures = [\n\t\t\tnew THREE.TextureLoader().load(\"./images/clock.png\"),\n\t\t\tnew THREE.TextureLoader().load(\"./images/clock2.png\"),\n\t\t\tnew THREE.TextureLoader().load(\"./images/clock3.png\")\n\t\t];\n\t\t//renderer\n\t\tthis.container = document.getElementById(\"gl\");\n\t\tconsole.dir(this.container);\n\t\tthis.renderer = new THREE.WebGLRenderer({canvas: this.container, antialias: true, alpha: true});\n\t\tthis.renderer.setSize(this.container.offsetWidth, this.container.offsetHeight);\n\t\tthis.renderer.setPixelRatio(window.devicePixelRatio);\n\n\t\t//scene\n\t\tthis.scene = new THREE.Scene();\n\t\tthis.root = new THREE.Object3D();\n\t\tthis.scene.add(this.root);\n\n\t\t//camera\n\t\tthis.camera = new THREE.PerspectiveCamera(45, this.container.offsetWidth/this.container.offsetHeight, 0.1, 1000);\n\t\tthis.camera.position.set(0, 0, 20);\n\t\tthis.camera.lookAt(new THREE.Vector3(0, 0, 0));\n\t\tthis.root.add(this.camera);\n\n\t\t//light\n\t\tconst light = new THREE.DirectionalLight(\"#ffffff\", 1.5);\n\t\tlight.position.set(0, 1, 1);\n\t\tthis.root.add(light);\n\n\t\t//clocks\n\t\tthis.clocks = new THREE.Object3D();\n\t\tconst geometry = new THREE.PlaneBufferGeometry(1, 1);\n\t\tfor (let i=0; i<30; i++) {\n\t\t\tconst clock = new THREE.Mesh(geometry);\n\t\t\tthis.randomizeClock(clock);\n\t\t\tthis.clocks.add(clock);\n\t\t}\n\t\tthis.root.add(this.clocks);\n\n\t\twindow.onresize = () => this.resize();\n\t}\n\n\tresize() {\n\t\tthis.renderer.setSize(this.container.offsetWidth, this.container.offsetHeight);\n\t\tthis.camera.aspect = this.container.offsetWidth/this.container.offsetHeight;\n\t}\n\n\trandomizeClock(clock) {\n\t\tconst speedRef = 0.03;\n\t\tconst rotationRef = 0.1;\n\t\tconst texture = this.textures[Math.floor(Math.random()*this.textures.length)];\n\t\tconst mat = new THREE.MeshBasicMaterial({transparent: true, depthWrite: false, map: texture, side: THREE.DoubleSide})\n\t\tclock.material = mat;\n\t\tconst scale = Math.random()*1.5;\n\t\tclock.scale.set(scale, scale, scale);\n\t\tclock.position.set(Math.random()*30 - 15, Math.random()*15 + 5, 0);\n\t\tclock.speed = speedRef + Math.random() * speedRef*2;\n\t\tclock.rotZ = rotationRef - Math.random() * rotationRef*2;\n//\t\tclock.rotY = rotationRef - Math.random() * rotationRef*2;\n\t}\n\n\tupdate() {\n\t\tfor (var child of this.clocks.children) {\n\t\t\tchild.rotation.z -= child.rotZ;\n//\t\t\tchild.rotation.y -= child.rotY;\n\t\t\tchild.position.y -= child.speed;\n\t\t\tif (child.position.y < -15)\n\t\t\t\tthis.randomizeClock(child);\n\t\t}\n\t\tthis.renderer.render(this.scene, this.camera);\n\t}\n\n};\n\nexport default Clocks;","import $ from \"jquery\";\nimport moment from \"moment\";\nimport {Clock} from \"three\";\n\nclass Counter {\n\tconstructor() {\n\t\tthis.duration = 0;\n\t\tthis.remain = 0;\n\t\tthis.started = false;\n\t\tthis.ended = false;\n\t\tthis.lasted = 0;\n\t};\n\n\tstart(duration) {\n\t\tthis.started = true;\n\t\tthis.clock = new Clock();\n\t\tthis.duration = parseInt(duration, 10) + 1;\n\t\tthis.remain = moment.utc(this.duration*1000);\n\t\tthis.display();\n\t};\n\n\tdisplay() {\n\t\t$(\".time\").html(`Il vous reste ${this.remain.format('mm:ss')} minute(s)`);\n\t\tconst percent = Math.floor(this.clock.getElapsedTime()/(this.duration-1) * 100);\n\t\t$(\"#elapsed\").attr(\"value\", percent).html(percent+\" %\");\n\t\tthis.lasted = Math.floor(this.clock.getElapsedTime()*1000);\n\t\tif (percent >= 100)\n\t\t\tthis.ended = true;\n\t};\n\n\tupdate() {\n\t\tthis.remain = moment.utc(this.duration*1000 - this.clock.getElapsedTime()*1000);\n\t\tthis.display();\n\t};\n};\n\nexport default Counter;","import $ from \"jquery\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport \"moment/locale/fr\";\nimport \"babel-polyfill\"\n\nimport Card from \"./Card\";\nimport Spinner from \"./Spinner\";\nimport Counter from \"./Counter\";\nimport Scores from \"./Scores\";\nimport Clocks from \"./Clocks\";\n\nimport * as tools from \"./utils\";\n\nclass Manager {\n\n\tconstructor() {\n\t\tthis.clocks = new Clocks();\n\t\tthis.init();\n\t\tthis.update();\n\n\t}\n\n\tinit() {\n\t\tthis.spinner = new Spinner();\n\t\tthis.counter = new Counter();\n\t\tthis.scores = new Scores();\n\t\tthis.fruitClicked = null;\n\t\tthis.nbClicks = 0;\n\t\tthis.nbPairs = 0;\n\t\tthis.gameStarted = false;\n\t\tthis.gameEnded = false;\n\t\tthis.gameLasted = 0;\n\t\tthis.tools = tools;\n\t}\n\n\treset() {\n\t\tthis.tools.hideDecal(\".card.showCard\", 50);\n\t\tsetTimeout(() => {\n\t\t\t$(\".board\").html(\"\");\n\t\t\t$(\".again\").css({display: \"none\"});\n\t\t\t$(\".beforeCount.v2\").removeClass(\"current\");\n\t\t\t$(\".beforeCount.v1\").addClass(\"current\").css({display: \"flex\"});\n\t\t\t$(\".beforeCount.v1 select\").val(\"1\");\n\t\t\t$(\".beforeCount.v2 input\").val(\"\");\n\t\t\t$(\".backdrop\").removeClass(\"show\");\n\t\t\tthis.init();\n\t\t\tthis.setCards();\n\t\t}, 2000)\n\t}\n\n\tsetCards() {\n\t\t//creation de la liste de fruits réduite à 14\n\t\tconst fruits = ['pomme', 'banane', 'orange', 'citronVert', 'grenade', 'abricot', 'citronJaune', 'fraise', 'pomme', 'peche', 'raisin', 'pasteque', 'prune', 'poire', 'cerise', 'framboise', 'mangue', 'bigarot'];\n\t\tthis.tools.randomizeArray(fruits).slice(14);\n\t\t\n\t\t//positions aléatoires\n\t\tconst ranks = this.tools.randomizeArray([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28]);\n\n\t\t//creation du tableau de cartes aléatoire\n\t\tconst elements = [];\n\t\tlet fruitIndex = 0;\n\t\tfor (let i=0; i<28; i++) {\n\t\t\telements[ranks[i]] =  new Card(i, fruits[fruitIndex]).element;\n\t\t\t//toutes les 2 cartes, on change de fruit\n\t\t\tif (i%2 === 1)\n\t\t\t\tfruitIndex++;\n\t\t}\n\n\t\t//ajout du html dans la div plateau\n\t\t$(\".board\").append(elements);\n\t\tsetTimeout(() => {\n\t\t\tthis.tools.showDecal(\".card\", 50);\n\t\t}, 300);\n\t};\n\n\tasync showScores() {\n\t\ttry {\n\t\t\tconst html = await this.scores.init();\n\t\t\tthis.tools.showBackdrop(5000, () => {\n\t\t\t\t$(\".backdrop\").html(html);\n\t\t\t});\n\t\t} catch(error) {\n\t\t\tconsole.dir(error);\n\t\t}\n\t}\n\t\n\n\tcheckKey(event) {\n\t\tif (event.key === \"Enter\")\n\t\t\tthis.startGame();\n\t};\n\n\tstartGame() {\n\t\tthis.gameStarted = true;\n\t\t$(\".backdrop\").removeClass(\"show\");\n\t\t$(\".error\").html(\"\");\n\t\tconst val = parseInt($(\".current #duration\").val(), 10);\n\t\tif (!val)  {\n\t\t\t$(\".error\").html(\"Oups ... J'ai pas compris !\");\n\t\t\t$(\".current #duration\").val(\"\");\n\t\t} else if (val > 59) {\n\t\t\t$(\".error\").html(\"Faut pas exag&eacute;rer ... 59 minutes max !\");\n\t\t\t$(\".current #duration\").val(\"\");\n\t\t} else {\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst duration = val * 60;\n\t\t\t\t$(\".beforeCount\").css({display: \"none\"});\n\t\t\t\t$(\".counting\").css({display: \"flex\"});\n\t\t\t\tthis.counter.start(duration);\n\t\t\t}, 300);\n\t\t}\n\t};\n\n\tspin(target) {\n\t\t//on ne retourne une carte que si moins de 2 cartes sont retournées\n\t\t//et si cette carte n'est pas déjà retournée\n\t\tif (this.gameStarted && this.nbClicks < 2 && !$(target).hasClass(\"discover\")) {\n\t\t\tif (!this.fruitClicked) {\n\t\t\t\t//on retourne la première carte\n\t\t\t\tthis.spinner.spin(target);\n\t\t\t\tthis.fruitClicked = target;\n\t\t\t\tthis.nbClicks++;\n\t\t\t} else {\n\t\t\t\t// on retourne la seconde ...\n\t\t\t\tthis.spinner.spin(target, this.fruitClicked);\n\t\t\t\tthis.fruitClicked = null;\n\t\t\t\tthis.nbClicks++;\n\t\t\t\t// ... et on verifie si c'est une paire\n\t\t\t\tif (this.spinner.pair) {\n\t\t\t\t\tthis.nbClicks = 0;\n\t\t\t\t\tthis.nbPairs++;\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tif (!this.gameEnded)\n\t\t\t\t\t\t\tthis.nbClicks = 0;\n\t\t\t\t\t}, 2000);\n\t\t\t\t}\n\t\t\t\t//si toutes les cartes sont retournées, on clôture le jeu\n\t\t\t\tif (this.nbPairs === 14) {\n\t\t\t\t\tthis.gameLasted = this.counter.lasted;\n\t\t\t\t\tconsole.dir(this.counter);\n\t\t\t\t\tconsole.log(this.gameLasted);\n\t\t\t\t\tthis.endGame(true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tendGame(won) {\n\t\tthis.nbClicks = 3;\n\t\tthis.gameEnded = true;\n\t\tsetTimeout(() => {\n\t\t\t$(\".counting\").css({display: \"none\"});\n\t\t\t$(\".again\").css({display: \"flex\"});\n\t\t\t$(\".discover\").addClass(\"showDiscovered\");\n\t\t\t$(\".card\").removeClass(\"recover\").removeClass(\"discover\");\n\t\t\tif (won) {\n\t\t\t\tthis.scores.add({date: moment(Date.now()).format(\"dddd D MMMM YYYY, HH[h]mm\"), duration: this.gameLasted});\n\t\t\t\tthis.tools.showBackdrop(5000, () => {\n\t\t\t\t\t$(\".backdrop\").html(`Bravo, c'est gagn&eacute; !!!<br />Vous avez trouv&eacute; en ${moment.utc(this.gameLasted).format('mm:ss')} minute(s)`);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.tools.showBackdrop(5000, () => {\n\t\t\t\t\t$(\".backdrop\").html(\"Arf ..., c'est perdu !\");\n\t\t\t\t});\n\t\t\t}\n\t\t}, 500);\n\t};\n\n\tupdate() {\n\t\tif (this.gameStarted && !this.gameEnded) {\n\t\t\tif (this.counter && this.counter.started) {\n\t\t\t\tif (this.counter.ended) {\n\t\t\t\t\tthis.endGame(false);\n\t\t\t\t\tthis.gameLasted = this.counter.lasted;\n\t\t\t\t\tthis.counter = null;\n\t\t\t\t} else\n\t\t\t\t\tthis.counter.update();\n\t\t\t}\n\t\t}\n\t\tthis.clocks.update();\n\t\trequestAnimationFrame(() => this.update());\n\t};\n}\n\nmodule.exports = Manager;","import axios from \"axios\";\nimport moment from \"moment\";\n\nclass Scores {\n\n\tinit() {\n\t\treturn axios.get(\"http://localhost:3000/scores\").then(result => {\n\t\t\tconst resp = result.data;\n\t\t\tlet tab = [];\n\t\t\tfor (let score of Object.keys(resp))\n\t\t\t\ttab.push(resp[score]);\n\t\t\ttab = tab.sort((el1, el2) => el1.duration - el2.duration);\n\t\t\treturn this.html(tab);\n\t\t});\n\t};\n\n\tadd(obj) {\n\t\taxios.post(\"http://localhost:3000/score\", obj);\n\t};\n\n\thtml(results) {\n\t\tlet html = `<div class='scoreDiv'>\n\t\t<div class=\"principe\">Retrouvez toutes les paires dans le temps imparti et c'est gagné !</div>\n\t\t<div class='best'>5 meilleurs scores :</div>`;\n\t\tfor (let result of results) \n\t\t\thtml = html.concat(`<div class='score'>\n\t\t\t\t<div class='date'>${result.date}</div>\n\t\t\t\t<div class='duration'>${moment.utc(result.duration).format('mm:ss')}</div></div>`);\n\t\thtml = html.concat(\"</div>\");\n\t\treturn html;\n\t}\n};\n\nexport default Scores;","import $ from \"jquery\";\n\nclass Spinner {\n\n\tspin(target, stored) {\n\t\tthis.toggle([target], \"recover\", \"discover\", \"none\");\n\t\tif (stored)\n\t\t\tthis.eval(target, stored);\n\t};\n\n\teval(target, stored) {\n\t\tthis.pair = true;\t\n\t\tif (target.className !== stored.className) {\n\t\t\tthis.pair = false;\t\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.toggle([target, stored], \"discover\", \"recover\", \"block\");\n\t\t\t}, 1500);\n\t\t}\n\t}\n\n\ttoggle(targets, from, to, display, stored) {\n\t\t$(targets[0]).removeClass(from).addClass(to);\n\t\tif (targets[1])\n\t\t\t$(targets[1]).removeClass(from).addClass(to);\n\t\tsetTimeout(() => {\n\t\t\t$(\"#\"+targets[0].id + \" > img\").css({display: display});\n\t\t\tif (targets[1]) {\n\t\t\t\t$(\"#\"+targets[1].id + \" > img\").css({display: display});\n\t\t\t}\n\n\t\t}, 250);\n\t}\n}\n\nexport default Spinner;","import $ from \"jquery\";\n\nexport const randomizeArray = (array) => {\n\tarray.sort(function() {\n\t  return .5 - Math.random();\n\t});\n\treturn array;\n}\n\nexport const checkDuration = () => {\n\tconst val = $(\".current #duration\").val();\n\tif (val === \"choose\") {\n\t\t$(\".beforeCount.v1\").removeClass(\"current\").css({display: \"none\"});\n\t\t$(\".beforeCount.v2\").addClass(\"current\").css({display: \"flex\"});\n\t\t$(\".beforeCount.v2 input\").focus();\n\t}\n};\n\nexport const press = (event) => {\n\t$(event.target).removeClass(\"released\").addClass(\"pressed\");\n};\n\nexport const release = (event) => {\n\t$(event.target).removeClass(\"pressed\").addClass(\"released\");\n};\n\nexport const showDecal = (selector, delay) => {\n\t$(selector).each(function(id, element) {\n\t\t$(element).attr(\"class\", $(element).attr(\"class\").replace(new RegExp(\"hide\", 'g'), \"show\")).css({\"transition-delay\": (id*(delay ? delay : 100))+\"ms\"});\n\t});\n};\n\nexport const hideDecal = (selector, delay) => {\n\tvar from = $(selector).length * (delay ? delay : 100);\n\t$(selector).each(function(id, element) {\n\t\t$(element).attr(\"class\", $(element).attr(\"class\").replace(new RegExp(\"show\", 'g'), \"hide\")).css({\"transition-delay\": (from - id*(delay ? delay : 100))+\"ms\"});\n\t});\n};\n\nexport const showBackdrop = (duration, func) => {\n\t$(\".backdrop\").addClass(\"show\");\n\tif (typeof func === \"function\")\n\t\tfunc.apply(this);\n\tsetTimeout(() => {\n\t\t$(\".backdrop\").removeClass(\"show\");\n\t}, duration);\n};\n\n"]}